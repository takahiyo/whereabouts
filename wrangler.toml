name = "whereabouts"
main = "CloudflareWorkers_worker.js"
compatibility_date = "2024-01-14"

# ▼▼▼ エラーログに基づいて修正したID ▼▼▼
account_id = "01f96b532d61f9cebe2c01bd3e4082f2"

kv_namespaces = [
  { binding = "STATUS_CACHE", id = "cc4d3c16d44e4f299d9395c3c8ecde89" }
]

[[d1_databases]]
binding = "DB"
database_name = "whereabouts-db"
database_id = "350bb3cf-27be-4e96-9ce4-c2bf89ab678c"

# 本番用 (default) の変数
[vars]
STATUS_CACHE_TTL_SEC = "604800"

# ▼▼▼ 開発環境 (dev) の設定 ▼▼▼
[env.dev]
name = "whereabouts-dev"
workers_dev = true

[[env.dev.kv_namespaces]]
binding = "STATUS_CACHE"
id = "695bec76282e488c8d7b76fd5f0a1f4f"

# ★追加: dev環境用の変数を定義（これがないとdev環境で変数が空になります）
[env.dev.vars]
STATUS_CACHE_TTL_SEC = "604800"

[[env.dev.d1_databases]]
binding = "DB"
database_name = "whereabouts-db"
database_id = "350bb3cf-27be-4e96-9ce4-c2bf89ab678c"
